{"remainingRequest":"C:\\Users\\Ahmetcan\\Desktop\\vue-examples\\kutuphane\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ahmetcan\\Desktop\\vue-examples\\kutuphane\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\Ahmetcan\\Desktop\\vue-examples\\kutuphane\\src\\store\\modules\\user.js","mtime":1577891269976},{"path":"C:\\Users\\Ahmetcan\\Desktop\\vue-examples\\kutuphane\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ahmetcan\\Desktop\\vue-examples\\kutuphane\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gImNvcmUtanMiOwp2YXIgc3RhdGUgPSB7CiAgdXNlcjoge30sCiAgdXNlcl90b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJfdG9rZW4iKSB8fCAiIgp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcjsKICB9LAogIGlzQXV0aDogZnVuY3Rpb24gaXNBdXRoKHN0YXRlKSB7CiAgICByZXR1cm4gISFzdGF0ZS51c2VyX3Rva2VuOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVVNFUjogZnVuY3Rpb24gU0VUX1VTRVIoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogIH0sCiAgU0VUX0FVVEg6IGZ1bmN0aW9uIFNFVF9BVVRIKHN0YXRlKSB7CiAgICBzdGF0ZS51c2VyX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJfdG9rZW4iKTsKICB9LAogIENMRUFSX1VTRVI6IGZ1bmN0aW9uIENMRUFSX1VTRVIoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXIgPSBbXTsKICAgIHN0YXRlLnVzZXJfdG9rZW4gPSAiIjsKICB9LAogIENMRUFSX1RPS0VOOiBmdW5jdGlvbiBDTEVBUl9UT0tFTigpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyX3Rva2VuIik7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKF9yZWYsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldFVzZXIkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IHBheWxvYWQudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkID0gcGF5bG9hZC5wYXNzd29yZDsKICAgICAgICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2FwaS9zaWduSW4ucGhwIiwgewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyX3Rva2VuIiwgcmVzLmRhdGEudXNlci51c2VyX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfVVNFUiIsIHJlcy5kYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9BVVRIIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGdldFVzZXJSZWFkQm9va3M6IGZ1bmN0aW9uIGdldFVzZXJSZWFkQm9va3MoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldFVzZXJSZWFkQm9va3MkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3QvYXBpL3VzZXJCb29rcy5waHAiLCB7CiAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJfdG9rZW4iKQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGdldFRva2VuVXNlcjogZnVuY3Rpb24gZ2V0VG9rZW5Vc2VyKF9yZWYyLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0LCB0b2tlbjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZ2V0VG9rZW5Vc2VyJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICB0b2tlbiA9IHBheWxvYWQ7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2FwaS9zaWduSW4ucGhwIiwgewogICAgICAgICAgICAgIHRva2VuOiB0b2tlbgogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb21taXQoIlNFVF9VU0VSIiwgcmVzLmRhdGEudXNlcik7CiAgICAgICAgICAgICAgY29tbWl0KCJTRVRfQVVUSCIpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["C:/Users/Ahmetcan/Desktop/vue-examples/kutuphane/src/store/modules/user.js"],"names":["axios","Promise","state","user","user_token","localStorage","getItem","getters","getUser","isAuth","mutations","SET_USER","SET_AUTH","CLEAR_USER","CLEAR_TOKEN","removeItem","actions","payload","commit","resolve","reject","username","password","post","then","res","data","error","setItem","catch","err","getUserReadBooks","token","getTokenUser","namespaced"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { Promise } from \"core-js\";\r\nconst state = {\r\n  user: {},\r\n  user_token: localStorage.getItem(\"user_token\") || \"\"\r\n};\r\nconst getters = {\r\n  getUser: state => state.user,\r\n  isAuth: state => !!state.user_token\r\n};\r\nconst mutations = {\r\n  SET_USER(state, user) {\r\n    state.user = user;\r\n  },\r\n  SET_AUTH(state) {\r\n    state.user_token = localStorage.getItem(\"user_token\");\r\n  },\r\n  CLEAR_USER(state) {\r\n    state.user = [];\r\n    state.user_token = \"\";\r\n  },\r\n  CLEAR_TOKEN() {\r\n    localStorage.removeItem(\"user_token\");\r\n  }\r\n};\r\nconst actions = {\r\n  async getUser({ commit }, payload) {\r\n    return await new Promise((resolve, reject) => {\r\n      const { username, password } = payload;\r\n      axios\r\n        .post(\"http://localhost/api/signIn.php\", {\r\n          username: username,\r\n          password: password\r\n        })\r\n        .then(res => {\r\n          resolve(res.data);\r\n          if (!res.data.error) {\r\n            localStorage.setItem(\"user_token\", res.data.user.user_token);\r\n            commit(\"SET_USER\", res.data.user);\r\n            commit(\"SET_AUTH\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  async getUserReadBooks() {\r\n    return await new Promise((resolve, reject) => {\r\n      axios\r\n        .post(\"http://localhost/api/userBooks.php\", {\r\n          token: localStorage.getItem(\"user_token\")\r\n        })\r\n        .then(res => {\r\n          resolve(res.data);\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  async getTokenUser({ commit }, payload) {\r\n    const token = payload;\r\n    await axios\r\n      .post(\"http://localhost/api/signIn.php\", {\r\n        token\r\n      })\r\n      .then(res => {\r\n        commit(\"SET_USER\", res.data.user);\r\n        commit(\"SET_AUTH\");\r\n      });\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n};\r\n"]}]}